<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
	</head>
<body>
	<div class='container container-fluid'>
	<pre style='color:#000000;background:#ffffff;'><span style='color:#800000; font-weight:bold; '>int</span> messageBlocks<span style='color:#800080; '>::</span>Switcher<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>char</span> what<span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#808030; '>[</span>LINEMAX<span style='color:#808030; '>]</span><span style='color:#808030; '>,</span>bool LoadDefaultSettings<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
	<span style='color:#800000; font-weight:bold; '>char</span> key<span style='color:#800080; '>;</span>
	recordColor<span style='color:#808030; '>(</span>colorprev<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#696969; '>//set window default</span>
	<span style='color:#603000; '>max</span><span style='color:#808030; '>=</span>MaxLength<span style='color:#808030; '>(</span><span style='color:#808030; '>&amp;</span>what<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>,</span>LINEMAX<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>numPerLine<span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> numPerLine<span style='color:#808030; '>=</span>setnpl<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>filelines<span style='color:#808030; '>(</span>MsgWinNewDefaultsRoute<span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
		errorLog<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>message block</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>default file lost</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
	<span style='color:#800080; '>}</span>
	<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>LoadDefaultSettings<span style='color:#808030; '>)</span> defaultsLoad<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#696969; '>//set block default</span>
	blockWidth<span style='color:#808030; '>=</span><span style='color:#808030; '>(</span><span style='color:#603000; '>max</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span>numPerLine<span style='color:#808030; '>)</span><span style='color:#800080; '>?</span>width<span style='color:#808030; '>/</span><span style='color:#603000; '>max</span><span style='color:#800080; '>:</span>width<span style='color:#808030; '>/</span>numPerLine<span style='color:#800080; '>;</span>
	blockHeight<span style='color:#808030; '>=</span>height<span style='color:#808030; '>/</span><span style='color:#808030; '>(</span><span style='color:#603000; '>max</span><span style='color:#808030; '>/</span>numPerLine<span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	xCleft<span style='color:#808030; '>=</span>cleftIndex<span style='color:#800080; '>;</span>
	yCleft<span style='color:#808030; '>=</span>cleftIndex<span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>for</span><span style='color:#808030; '>(</span>n<span style='color:#808030; '>=</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span>nbefore<span style='color:#808030; '>=</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span><span style='color:#800080; '>;</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
		Fillall<span style='color:#808030; '>(</span>what<span style='color:#808030; '>,</span>nbefore<span style='color:#808030; '>,</span>n<span style='color:#808030; '>,</span><span style='color:#603000; '>max</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		nbefore <span style='color:#808030; '>=</span> n<span style='color:#800080; '>;</span>
		key <span style='color:#808030; '>=</span> getch<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> BIOSKEY<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
			key <span style='color:#808030; '>=</span> getch<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span>UP<span style='color:#808030; '>)</span> key <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'w'</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span>DOWN<span style='color:#808030; '>)</span> key <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'s'</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span>LEFT<span style='color:#808030; '>)</span> key <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'a'</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span>RIGHT<span style='color:#808030; '>)</span> key <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'d'</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span><span style='color:#696969; '>// CANNOT FOLLOW AN 'ELSE'</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>13</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> n<span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'0'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'q'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'Q'</span><span style='color:#808030; '>)</span> n<span style='color:#808030; '>=</span><span style='color:#603000; '>max</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>></span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'1'</span><span style='color:#808030; '>&amp;</span><span style='color:#808030; '>&amp;</span>key<span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'9'</span><span style='color:#808030; '>)</span> n<span style='color:#808030; '>=</span>key<span style='color:#808030; '>-</span><span style='color:#0000e6; '>'0'</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'a'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'A'</span><span style='color:#808030; '>)</span> n<span style='color:#808030; '>-</span><span style='color:#808030; '>-</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'d'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'D'</span><span style='color:#808030; '>)</span> n<span style='color:#808030; '>+</span><span style='color:#808030; '>+</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'w'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'W'</span><span style='color:#808030; '>)</span> n<span style='color:#808030; '>-</span><span style='color:#808030; '>=</span>numPerLine<span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'s'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'S'</span><span style='color:#808030; '>)</span> n<span style='color:#808030; '>+</span><span style='color:#808030; '>=</span>numPerLine<span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>8</span> <span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#008c00; '>27</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'r'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'R'</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
			resetColor<span style='color:#808030; '>(</span>colorprev<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'i'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'I'</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
			Adjust<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			defaultsSave<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'e'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'E'</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
			n <span style='color:#808030; '>=</span> Search<span style='color:#808030; '>(</span>what<span style='color:#808030; '>,</span>n<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>n<span style='color:#808030; '>></span><span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
				resetColor<span style='color:#808030; '>(</span>colorprev<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>return</span> n<span style='color:#800080; '>;</span>
			<span style='color:#800080; '>}</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'n'</span><span style='color:#808030; '>|</span><span style='color:#808030; '>|</span>key<span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'N'</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>ifdef</span><span style='color:#004a43; '>  _data_dir</span>
			bsvviewer<span style='color:#808030; '>(</span>_data_dir<span style='color:#800000; '>"</span><span style='color:#0000e6; '>buf.bsv</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>true<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>else</span>
<span style='color:#e34adc; '>ERROR:</span>
			DATA_DIRECTORY WAS NOT DECLARED<span style='color:#808030; '>.</span>
<span style='color:#004a43; '>#</span><span style='color:#004a43; '>endif</span>
		<span style='color:#800080; '>}</span>
		roll<span style='color:#808030; '>(</span>n<span style='color:#808030; '>,</span>n<span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span><span style='color:#603000; '>max</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800080; '>}</span>
	resetColor<span style='color:#808030; '>(</span>colorprev<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>
</pre>
	</div>
</body>
</html>