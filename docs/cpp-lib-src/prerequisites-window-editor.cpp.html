<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
	</head>
<body>
	<div class='container container-fluid'>
<pre style='color:#000000;background:#ffffff;'><span style='color:#800000; font-weight:bold; '>int</span> window<span style='color:#800080; '>::</span>Editor<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>int</span> x0<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> y0<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> x<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> y<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
	<span style='color:#800000; font-weight:bold; '>int</span> key <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
	Reader<span style='color:#808030; '>(</span>WINDOW_STATUS<span style='color:#800080; '>::</span>active<span style='color:#808030; '>,</span>x0<span style='color:#808030; '>,</span>y0<span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>for</span><span style='color:#808030; '>(</span><span style='color:#800080; '>;</span> key <span style='color:#808030; '>!</span><span style='color:#808030; '>=</span> <span style='color:#808030; '>-</span><span style='color:#008c00; '>2</span> <span style='color:#808030; '>&amp;</span><span style='color:#808030; '>&amp;</span> y <span style='color:#808030; '>></span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>&amp;</span><span style='color:#808030; '>&amp;</span> y <span style='color:#808030; '>&lt;</span> text<span style='color:#808030; '>.</span>capacity<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span> y <span style='color:#808030; '>+</span><span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span>key<span style='color:#808030; '>*</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span> <span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
		x <span style='color:#808030; '>=</span> <span style='color:#603000; '>strlen</span><span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#e34adc; '>INPUT:</span>
		<span style='color:#800000; font-weight:bold; '>int</span> x0prev <span style='color:#808030; '>=</span> x0<span style='color:#808030; '>,</span>y0prev <span style='color:#808030; '>=</span> y0<span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span> y0 <span style='color:#808030; '>></span> y <span style='color:#808030; '>)</span> y0 <span style='color:#808030; '>=</span> y<span style='color:#800080; '>;</span><span style='color:#696969; '>//first line > focused line</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span> y0 <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span> y<span style='color:#808030; '>-</span>innerHeight<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>)</span> y0 <span style='color:#808030; '>=</span> y<span style='color:#808030; '>-</span>innerHeight<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span><span style='color:#696969; '>//first line &lt;= focused line - height</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span> x0 <span style='color:#808030; '>></span> x <span style='color:#808030; '>)</span> x0 <span style='color:#808030; '>=</span> x<span style='color:#800080; '>;</span><span style='color:#696969; '>//first char > focused char</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span> x0 <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>=</span> x<span style='color:#808030; '>-</span>innerWidth<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>)</span> x0 <span style='color:#808030; '>=</span> x<span style='color:#808030; '>-</span>innerWidth<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span><span style='color:#696969; '>//first char &lt;= focused char - width</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span> x0 <span style='color:#808030; '>&lt;</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>|</span><span style='color:#808030; '>|</span> x <span style='color:#808030; '>&lt;</span> innerWidth<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>)</span> x0 <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span><span style='color:#696969; '>//optimize first char</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span> y0 <span style='color:#808030; '>&lt;</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>)</span> y0 <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span> x0 <span style='color:#808030; '>!</span><span style='color:#808030; '>=</span> x0prev <span style='color:#808030; '>|</span><span style='color:#808030; '>|</span> y0 <span style='color:#808030; '>!</span><span style='color:#808030; '>=</span> y0prev <span style='color:#808030; '>)</span> Reader<span style='color:#808030; '>(</span>WINDOW_STATUS<span style='color:#800080; '>::</span>active<span style='color:#808030; '>,</span>x0<span style='color:#808030; '>,</span>y0<span style='color:#808030; '>,</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#696969; '>//status bar</span>
		setColorByCommand<span style='color:#808030; '>(</span>color<span style='color:#808030; '>[</span>WINDOW_STATUS<span style='color:#800080; '>::</span>active<span style='color:#808030; '>]</span><span style='color:#808030; '>.</span>padding<span style='color:#808030; '>.</span>content<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		gotoxy<span style='color:#808030; '>(</span>innerLeft<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>,</span>outerTop<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>+</span>innerHeight<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>+</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>innerWidth<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>></span><span style='color:#008c00; '>40</span><span style='color:#808030; '>)</span> <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>cout</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> PageSize=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span>text<span style='color:#808030; '>.</span>capacity<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>innerWidth<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>></span><span style='color:#008c00; '>50</span><span style='color:#808030; '>)</span> <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>cout</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> TotalLine=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span>text<span style='color:#808030; '>.</span>size<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>innerWidth<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>></span><span style='color:#008c00; '>40</span><span style='color:#808030; '>)</span> <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>cout</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> LineSize=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span>text<span style='color:#808030; '>.</span>linecapacity<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>cout</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> Line=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span>y<span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> Col=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span>x<span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>  </span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
		<span style='color:#696969; '>//edit text.line(n)</span>
		key <span style='color:#808030; '>=</span> input<span style='color:#808030; '>(</span>x0<span style='color:#808030; '>,</span>y0<span style='color:#808030; '>,</span>x<span style='color:#808030; '>,</span>y<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		applysettings<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#603000; '>strcmp</span><span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>#settings();</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
			strclr<span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>cout</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>w=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>width
			         <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> h=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>height
			         <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> l=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>left
			         <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> r=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>right
			         <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> t=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>top
			         <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> b=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>bottom
			         <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> pl=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>padding<span style='color:#808030; '>.</span>left
			         <span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> pr=</span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>padding<span style='color:#808030; '>.</span>right<span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#603000; '>strcmp</span><span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>#set();</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
			strclr<span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>auto</span> setparam <span style='color:#808030; '>=</span> <span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>const</span> <span style='color:#800000; font-weight:bold; '>char</span> <span style='color:#808030; '>*</span> name<span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>int</span> <span style='color:#808030; '>&amp;</span> value<span style='color:#808030; '>)</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span><span style='color:#800000; font-weight:bold; '>void</span><span style='color:#800080; '>{</span>
				<span style='color:#800000; font-weight:bold; '>char</span> msg<span style='color:#808030; '>[</span><span style='color:#008c00; '>16</span><span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
				<span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>cout</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> </span><span style='color:#800000; '>"</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span>name<span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>=</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
				<span style='color:#400000; '>listen</span><span style='color:#808030; '>(</span>msg<span style='color:#808030; '>,</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span><span style='color:#800080; '>{</span><span style='color:#008c00; '>13</span><span style='color:#800080; '>}</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>16</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#603000; '>isdigit</span><span style='color:#808030; '>(</span>msg<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> value <span style='color:#808030; '>=</span> toint<span style='color:#808030; '>(</span>msg<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#666616; '>std</span><span style='color:#800080; '>::</span><span style='color:#603000; '>cout</span><span style='color:#808030; '>&lt;</span><span style='color:#808030; '>&lt;</span>value<span style='color:#800080; '>;</span>
			<span style='color:#800080; '>}</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>w</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>width<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>h</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>height<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>l</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>left<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>r</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>right<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>t</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>top<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>b</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>margin<span style='color:#808030; '>.</span>bottom<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>pl</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>padding<span style='color:#808030; '>.</span>left<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			setparam<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>pr</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span><span style='color:#800000; font-weight:bold; '>this</span><span style='color:#808030; '>-</span><span style='color:#808030; '>></span>padding<span style='color:#808030; '>.</span>right<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> UP<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span> <span style='color:#696969; '>//cursor up</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>-</span><span style='color:#808030; '>-</span>y<span style='color:#808030; '>&lt;</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> y <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span><span style='color:#696969; '>//MINIMUM bound</span>
			<span style='color:#800000; font-weight:bold; '>int</span> lth <span style='color:#808030; '>=</span> <span style='color:#603000; '>strlen</span><span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>lth<span style='color:#808030; '>&lt;</span>x<span style='color:#808030; '>)</span> x <span style='color:#808030; '>=</span> lth<span style='color:#800080; '>;</span>
			<span style='color:#008484; '>goto</span> <span style='color:#e34adc; '>INPUT</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> DOWN<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span> <span style='color:#696969; '>//cursor down</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>y <span style='color:#808030; '>></span><span style='color:#808030; '>=</span> text<span style='color:#808030; '>.</span>size<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> y <span style='color:#808030; '>=</span> text<span style='color:#808030; '>.</span>size<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span><span style='color:#696969; '>//MAXIMUM bound</span>
			<span style='color:#800000; font-weight:bold; '>auto</span> lth <span style='color:#808030; '>=</span> <span style='color:#603000; '>strlen</span><span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>lth<span style='color:#808030; '>&lt;</span>x<span style='color:#808030; '>)</span> x <span style='color:#808030; '>=</span> lth<span style='color:#800080; '>;</span>
			<span style='color:#008484; '>goto</span> <span style='color:#e34adc; '>INPUT</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> LEFT<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span> <span style='color:#696969; '>//cursor left</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>-</span><span style='color:#808030; '>-</span>x<span style='color:#808030; '>&lt;</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
				<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>-</span><span style='color:#808030; '>-</span>y <span style='color:#808030; '>></span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> x <span style='color:#808030; '>=</span> <span style='color:#603000; '>strlen</span><span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800080; '>{</span>
					y <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
					x <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
				<span style='color:#800080; '>}</span>
			<span style='color:#800080; '>}</span>
			<span style='color:#008484; '>goto</span> <span style='color:#e34adc; '>INPUT</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>key <span style='color:#808030; '>=</span><span style='color:#808030; '>=</span> RIGHT<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span> <span style='color:#696969; '>//cursor right</span>
			<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>x <span style='color:#808030; '>></span> <span style='color:#603000; '>strlen</span><span style='color:#808030; '>(</span>text<span style='color:#808030; '>.</span>line<span style='color:#808030; '>(</span>y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
				<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>y <span style='color:#808030; '>&lt;</span> text<span style='color:#808030; '>.</span>size<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> x <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800080; '>{</span>
					y <span style='color:#808030; '>=</span> text<span style='color:#808030; '>.</span>size<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
					<span style='color:#808030; '>-</span><span style='color:#808030; '>-</span>x<span style='color:#800080; '>;</span>
				<span style='color:#800080; '>}</span>
			<span style='color:#800080; '>}</span>
			<span style='color:#008484; '>goto</span> <span style='color:#e34adc; '>INPUT</span><span style='color:#800080; '>;</span>
		<span style='color:#800080; '>}</span>
	<span style='color:#800080; '>}</span>
	setColorByCommand<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>wte-</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>return</span> text<span style='color:#808030; '>.</span>size<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>
</pre>
	</div>
</body>
</html>
