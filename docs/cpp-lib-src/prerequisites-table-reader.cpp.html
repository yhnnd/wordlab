<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
	</head>
<body>
	<div class='container container-fluid'>
<pre style='color:#000000;background:#ffffff;'><span style='color:#800000; font-weight:bold; '>void</span> _table<span style='color:#800080; '>::</span>readtable<span style='color:#808030; '>(</span> std<span style='color:#800080; '>::</span>istream <span style='color:#808030; '>&amp;</span> is <span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
	std<span style='color:#800080; '>::</span>string s<span style='color:#800080; '>;</span>
	<span style='color:#800000; font-weight:bold; '>while</span><span style='color:#808030; '>(</span>getline<span style='color:#808030; '>(</span>is<span style='color:#808030; '>,</span>s<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
		<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>s<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'+'</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
			_tablerow rowTemp<span style='color:#800080; '>;</span>
			rowTemp<span style='color:#808030; '>.</span>setcol<span style='color:#808030; '>(</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span>s<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			rows<span style='color:#808030; '>.</span>push_back<span style='color:#808030; '>(</span>rowTemp<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span><span style='color:#696969; '>// set row border</span>
		<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#800080; '>{</span>
			<span style='color:#800000; font-weight:bold; '>int</span> num_column<span style='color:#808030; '>=</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
			std<span style='color:#800080; '>::</span>stringstream ss<span style='color:#808030; '>(</span>s<span style='color:#808030; '>)</span><span style='color:#808030; '>,</span>ss2<span style='color:#808030; '>(</span>s<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			std<span style='color:#800080; '>::</span>string temp<span style='color:#808030; '>,</span>temp2<span style='color:#800080; '>;</span>
			<span style='color:#696969; '>// read num of column</span>
			<span style='color:#800000; font-weight:bold; '>while</span><span style='color:#808030; '>(</span>ss<span style='color:#808030; '>></span><span style='color:#808030; '>></span>temp<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>*</span><span style='color:#808030; '>(</span>temp<span style='color:#808030; '>.</span>end<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'|'</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>num_column<span style='color:#800080; '>;</span>
			<span style='color:#696969; '>// read column width</span>
			std<span style='color:#800080; '>::</span>vector<span style='color:#808030; '>&lt;</span><span style='color:#800000; font-weight:bold; '>int</span><span style='color:#808030; '>></span> colwidth<span style='color:#808030; '>(</span>num_column<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>for</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>int</span> i<span style='color:#808030; '>=</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span>j<span style='color:#808030; '>=</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span> i<span style='color:#808030; '>&lt;</span>s<span style='color:#808030; '>.</span>end<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>-</span>s<span style='color:#808030; '>.</span>begin<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span> <span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>i<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
				<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>s<span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'|'</span><span style='color:#808030; '>)</span> colwidth<span style='color:#808030; '>[</span><span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>j<span style='color:#808030; '>]</span><span style='color:#808030; '>=</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
				<span style='color:#800000; font-weight:bold; '>else</span> <span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>colwidth<span style='color:#808030; '>[</span>j<span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
			<span style='color:#800080; '>}</span>
			<span style='color:#696969; '>// set each column</span>
			setrow<span style='color:#808030; '>(</span>num_column<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
			num_column<span style='color:#808030; '>=</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#800080; '>;</span>
			<span style='color:#800000; font-weight:bold; '>while</span><span style='color:#808030; '>(</span>ss2<span style='color:#808030; '>></span><span style='color:#808030; '>></span>temp<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
				<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>*</span><span style='color:#808030; '>(</span>temp<span style='color:#808030; '>.</span>end<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>=</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'|'</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
					<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>temp<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>!</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>'|'</span><span style='color:#808030; '>)</span> temp2<span style='color:#808030; '>+</span><span style='color:#808030; '>=</span><span style='color:#808030; '>(</span>temp2<span style='color:#808030; '>.</span>length<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>?</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> </span><span style='color:#800000; '>"</span><span style='color:#800080; '>:</span><span style='color:#800000; '>"</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#808030; '>+</span>temp<span style='color:#808030; '>.</span>substr<span style='color:#808030; '>(</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span>temp<span style='color:#808030; '>.</span>find<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'|'</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
					<span style='color:#696969; '>// set column</span>
					<span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#808030; '>+</span><span style='color:#808030; '>+</span>num_column<span style='color:#808030; '>)</span> setcol<span style='color:#808030; '>(</span>colwidth<span style='color:#808030; '>[</span>num_column<span style='color:#808030; '>-</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>]</span><span style='color:#808030; '>,</span>getlabel<span style='color:#808030; '>(</span>temp2<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
					temp2<span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
				<span style='color:#800080; '>}</span> <span style='color:#800000; font-weight:bold; '>else</span> temp2<span style='color:#808030; '>+</span><span style='color:#808030; '>=</span><span style='color:#808030; '>(</span>temp2<span style='color:#808030; '>.</span>length<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>?</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> </span><span style='color:#800000; '>"</span><span style='color:#800080; '>:</span><span style='color:#800000; '>"</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#808030; '>+</span>temp<span style='color:#800080; '>;</span>
			<span style='color:#800080; '>}</span>
		<span style='color:#800080; '>}</span>
	<span style='color:#800080; '>}</span>
	setcolborder<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'|'</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>
<span style='color:#800000; font-weight:bold; '>void</span> _table<span style='color:#800080; '>::</span>readtable<span style='color:#808030; '>(</span> std<span style='color:#800080; '>::</span>string <span style='color:#800000; font-weight:bold; '>const</span> <span style='color:#808030; '>&amp;</span> filename<span style='color:#808030; '>)</span> <span style='color:#800080; '>{</span>
	std<span style='color:#800080; '>::</span>ifstream fin<span style='color:#808030; '>(</span>filename<span style='color:#808030; '>.</span>c_str<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	readtable<span style='color:#808030; '>(</span>fin<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
	fin<span style='color:#808030; '>.</span>close<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span>
</pre>
	</div>
</body>
</html>
